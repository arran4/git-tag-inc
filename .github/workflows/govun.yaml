name: Go vunderability check
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Install Go
      uses: actions/setup-go@v2
      with:
          go-version: 1.20
    - name: Scan for Vulnerabilities in Code
      uses: Templum/govulncheck-action@main
      with:
        go-version: 1.20
        vulncheck-version: latest
        package: ./...
        fail-on-vuln: true
